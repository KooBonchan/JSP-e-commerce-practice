<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Login</title>
<link rel="stylesheet" href="./style/darkmode.css" />
<link rel="stylesheet" href="./style/form.css" />
</head>
<body>
	<div id="error-invalid-credentials" style="color: red; display: none;">
        Invalid credentials, please try again.
    </div>
   	<div id="error-session-end" style="color: red; display: none;">
        Session ended.
    </div>
	<form action="login" method="post" name="formLogin">
		<table>
			<thead>
				<tr>
					<td colspan=2>
						<h1>Login</h1>
					</td>
				</tr>
			</thead>
			<tr>
				<td>ID</td>
				<td><input name="id" autocomplete="username"></td>
			</tr>
			<tr>
				<td>Password</td>
				<td><input type="password" name="password"
					autocomplete="current-password"></td>
			</tr>
			<tr>
				<td colspan=2>
					<div id="button-bar">
						<button type="submit" name="submit">Log In</button>
						<button type="button" name="signup">Sign up</button>
					</div>
				</td>
			</tr>
		</table>
	</form>
</body>
<script>
function getQueryParameter(name) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(name);
}
const error = getQueryParameter('error');
if(error != null){
	if (error == 'invalid_credentials') {
	    document.getElementById('error-invalid-credentials').style.display = 'block'; // Show the error message
	}
	else if (error == 'not_authenticated') {
	    document.getElementById('error-session-end').style.display = 'block'; // Show the error message
	}	
}

const signupButton = document.formLogin.signup;
signupButton.addEventListener("click", function(e) {
	location.href = "signup.html";
})
</script>
</html>